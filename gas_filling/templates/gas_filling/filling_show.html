{% extends "base.html" %}

{% block content %}

<h2>Showing Filling</h2>

<p>Order: {{ filling.order.order_number }}</p>
<p>Cylinder: {{ filling.cylinder.barcodeid }}</p>
<p>Cylinder Tare Weight: {{ filling.cylinder.tare }}</p>
<p>Target Fill Weight: {{ filling.order.target_fill }}</p>
<p>Batch Number: {{ filling.batch_number }}</p>
<p>Fill Weight: {{ filling.fill_weight }}</p>
<p>Taken Weight: {{ filling.taken_weight }}</p>
<p>Recycled Weight: {{ filling.recycle_weight }}</p>
<p>Pulled Weight: {{ filling.pulled_diff_weight }}</p>
<p>{% if filling.empty_weight %} Empty Weight: {{ filling.empty_weight }}{% endif %}</p>

<h1>Filling Times</h1>

<table border="1" cellpadding="5" cellspacing="0">
    <thead>
        <tr>
            <th>Name</th>
            <th>Value</th>
            <th>Timestamp</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Start Weight</td>
            <td>{{ filling.start_weight }}</td>
            <td>{{ filling.start_time }}</td>
        </tr>
        <tr>
            <td>Connection Weight</td>
            <td>{{ filling.connection_weight }}</td>
            <td>{{ filling.connection_time }}</td>
        </tr>
        <tr>
            <td>End Weight</td>
            <td>{{ filling.end_weight }}</td>
            <td>{{ filling.end_time }}</td>
        </tr>
        <tr>
            <td>Pulled Weight</td>
            <td>{{ filling.pulled_weight }}</td>
            <td>{{ filling.pulled_time }}</td>
        </tr>
        <tr>
            <td>Final Weight</td>
            <td>{{ filling.final_weight }}</td>
            <td>{{ filling.final_time }}</td>
        </tr>
    </tbody>
</table>

{% if stillages %}
<h1>Stillage Cylinders</h1>
<table border="1" cellpadding="5" cellspacing="0">
    <thead>
        <tr>
            <th>Number</th>
            <th>End Weight</th>
            <th>End Time</th>
            <th>Pulled Weight</th>
            <th>Pulled Time</th>
        </tr>
    </thead>
    <tbody>
        {% for stillage in stillages %}
            <td>{{ stillage.stillage_num }}</td>
            <td>{{ stillage.end_weight }}</td>
            <td>{{ stillage.end_time }}</td>
            <td>{{ stillage.pulled_weight }}</td>
            <td>{{ stillage.pulled_time }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endif %}

<form action="{% url 'gas_filling:order_show' filling.order.id %}" method="get" style="margin-top: 20px;">
    <button type="submit" class="btn-primary">Back</button>
</form>

{% endblock %}

