{% extends "base.html" %}

{% block content %}
<h1>All Cylinders</h1>

{% if cylinders %}
<table border="1" cellpadding="5" cellspacing="0">
    <thead>
        <tr>
            <th>Barcode</th>
            <th>Tare</th>
            <th>Start Date</th>
            <th>Test Date</th>
            <th>Comments</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for cylinder in cylinders %}
        <tr {% if cylinder.status == 'expired' %}style="background-color: #ffa7a7;"
            {% elif cylinder.status == 'warning' %}style="background-color: #fff3cd;"
            {% elif cylinder.status == 'unknown' %}style="background-color: #f0f0f0;" {% endif %}>

            <td>{{ cylinder.barcodeid }}</td>
            <td>{{ cylinder.tare }}</td>
            <td>{{ cylinder.start_date|default:"Not set" }}</td>
            <td>{{ cylinder.test_date|default:"Not set" }}</td>
            <td>{{ cylinder.comments }}</td>
            <td>{{ cylinder.status_text }}</td>
            <td>
                <a href="{% url 'gas_filling:cylinder_show' cylinder.id %}">Show</a> |
                <a href="{% url 'gas_filling:cylinder_edit' pk=cylinder.id %}">Edit</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No cylinders found.</p>
{% endif %}

<form action="{% url 'gas_filling:order_list' %}" method="get" style="margin-top: 20px;">
    <button type="submit" class="btn-primary">Back</button>
</form>

{% endblock %}
